{"ast":null,"code":"import _slicedToArray from \"/Users/dawid.budaszewski/Desktop/stock-management/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/dawid.budaszewski/Desktop/stock-management/client/src/components/dolls/Dolls.js\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport TableForm from '../table/TableForm';\nimport $ from 'jquery';\n\nfunction Dolls() {\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        data = _useState2[0],\n        setData = _useState2[1];\n\n  const _useState3 = useState(\"dolls\"),\n        _useState4 = _slicedToArray(_useState3, 2),\n        search = _useState4[0],\n        setSearch = _useState4[1];\n\n  const _useState5 = useState([]),\n        _useState6 = _slicedToArray(_useState5, 2),\n        temp = _useState6[0],\n        setTemp = _useState6[1];\n\n  const _useState7 = useState({\n    name: \"\",\n    priceBought: null,\n    dateBought: \"\",\n    sold: null,\n    dateSold: \"\",\n    boughtBy: \"\",\n    shippingAddress: \"\"\n  }),\n        _useState8 = _slicedToArray(_useState7, 2),\n        postData = _useState8[0],\n        setPostData = _useState8[1];\n\n  useEffect(() => {\n    const fetchData = async () => {\n      const result = await axios(search);\n      setData(result.data);\n      console.log(result.data);\n    };\n\n    fetchData();\n  }, [search]);\n\n  const handleClick = event => {\n    setSearch(event.target.value);\n  };\n\n  const addToData = async () => {\n    await axios.post('/dolls', {\n      \"name\": \"doll1\",\n      \"priceBought\": 38,\n      \"sold\": false\n    });\n  };\n\n  const getFormData = $form => {\n    var unindexed_array = $form.serializeArray();\n    var indexed_array = {};\n    $.map(unindexed_array, function (n, i) {\n      indexed_array[n['name']] = n['value'];\n    });\n    console.log(indexed_array);\n    return indexed_array;\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, React.createElement(\"script\", {\n    src: \"https://code.jquery.com/jquery-3.4.1.min.js\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }), React.createElement(\"form\", {\n    onSubmit: getFormData,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, \"Name: \", React.createElement(\"input\", {\n    name: \"name\",\n    type: \"text\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  })), React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, \"Date bought: \", React.createElement(\"input\", {\n    name: \"dateBought\",\n    type: \"text\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  })), React.createElement(\"input\", {\n    type: \"submit\",\n    value: \"Submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  })), React.createElement(\"button\", {\n    value: \"dolls\",\n    onClick: handleClick,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, \"All dolls\"), React.createElement(\"button\", {\n    value: \"dolls/sold\",\n    onClick: handleClick,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, \"Sold dolls\"), React.createElement(\"button\", {\n    value: \"dolls/notsold\",\n    onClick: handleClick,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, \"Available dolls\"), React.createElement(\"button\", {\n    onClick: addToData,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, \"SEND\"), React.createElement(TableForm, {\n    data: data,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }));\n}\n\nexport default Dolls;","map":{"version":3,"sources":["/Users/dawid.budaszewski/Desktop/stock-management/client/src/components/dolls/Dolls.js"],"names":["React","useState","useEffect","axios","TableForm","$","Dolls","data","setData","search","setSearch","temp","setTemp","name","priceBought","dateBought","sold","dateSold","boughtBy","shippingAddress","postData","setPostData","fetchData","result","console","log","handleClick","event","target","value","addToData","post","getFormData","$form","unindexed_array","serializeArray","indexed_array","map","n","i"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport axios from 'axios'\nimport TableForm from '../table/TableForm'\nimport $ from 'jquery'\n\nfunction Dolls() {\n  const [data, setData] = useState([])\n  const [search, setSearch] = useState(\"dolls\")\n  const [temp, setTemp] = useState([])\n  const [postData, setPostData] = useState({\n    name: \"\",\n    priceBought: null,\n    dateBought: \"\",\n    sold: null,\n    dateSold: \"\",\n    boughtBy: \"\",\n    shippingAddress: \"\"\n  })\n  \n  useEffect(() => {\n    const fetchData = async () => {\n      const result = await axios(search)\n      setData(result.data)\n      console.log(result.data)\n    } \n    fetchData()\n  }, [search])\n\n  const handleClick = (event) => {\n    setSearch(event.target.value)\n  }\n\n  const addToData = async () => {\n    await axios.post('/dolls', {\n      \"name\": \"doll1\",\n    \t\"priceBought\": 38,\n    \t\"sold\": false\n    })\n  }\n\n  const getFormData = ($form) => {\n    var unindexed_array = $form.serializeArray();\n    var indexed_array = {};\n\n    $.map(unindexed_array, function(n, i){\n        indexed_array[n['name']] = n['value'];\n    });\n    console.log(indexed_array)\n    return indexed_array;\n}\n  return (\n    <div>\n      <script src=\"https://code.jquery.com/jquery-3.4.1.min.js\"></script>\n\n      <form onSubmit={getFormData}>\n        <label>Name: <input name=\"name\" type=\"text\" /></label>\n        <label>Date bought: <input name=\"dateBought\" type=\"text\" /></label>\n        <input type=\"submit\" value=\"Submit\"/>\n\n      </form>\n      <button value=\"dolls\" onClick={handleClick}>All dolls</button>\n      <button value=\"dolls/sold\" onClick={handleClick}>Sold dolls</button>\n      <button value=\"dolls/notsold\" onClick={handleClick}>Available dolls</button>\n      <button onClick={addToData}>SEND</button>\n      <TableForm data={data}/>\n    </div>\n  )\n}\n\nexport default Dolls"]},"metadata":{},"sourceType":"module"}